---
title: 【没用小技巧】Array.from几种实用的用法
tags: 
- 前端
- JavaScript
- ES6
categories:
- 前端
---
### 1. 将伪数组转换成真数组

`Array.from()`方法就是将一个伪数组（也叫类数组）对象或者可遍历对象转换成一个真数组

伪数组：拥有` length` 属性，不具有数组所具有的`push`、`forEach`...等方法

常见的伪数组：

-   函数内部的 `arguments`
-   DOM元素列表 例如 `document.getElementsByClassName()`、`$("a")`获取的元素

将伪数组对象转换为真正数组

```javascript
let arrLike = {
    0: 'a',
    1: 'b',
    2: 'c',
    length: 3,
};

let arr = Array.from(arrLike)
console.log(arr) // => ['a', 'b', 'c']
```

### 2. 快速创建0到length - 1范围的数组

``` javascript
Array.from({length: 6}, (_, index) => index)
[0, 1, 2, 3, 4, 5]

// 另一种写法
Array.from(Array(6), (_, index) => index)
[0, 1, 2, 3, 4, 5]
```

### 3. 一行数组去重

`Set`对象是值的集合，你可以按照插入的顺序迭代它的元素。 Set中的元素只会**出现一次**，即 Set 中的元素是唯一的，配合`Set`对象可以实现一行去重

```javascript
let arr = [1, 2, 3, 2];

Array.from(new Set(arr)) // => [1, 2, 3]
```

### 4. 数组转字符串

通常，我们使用`split`将字符串分割成数组，`Array.from`同样可以实现

```javascript
let str = 'hello world!';

str.split('') // => ["h", "e", "l", "l", "o", " ", "w", "o", "r", "l", "d", "!"]
Array.from(str) // => ["h", "e", "l", "l", "o", " ", "w", "o", "r", "l", "d", "!"]
```





`Array.from` 还可以接受第二个参数，作用类似于数组的 `map` 方法，用来对每个元素进行处理，将处理后的值放入返回的数组。如下：

```
let arr = [12,45,97,9797,564,134,45642]
let set = new Set(arr)
console.log(Array.from(set, item => item + 1)) // [ 13, 46, 98, 9798, 565, 135, 45643 ]
```

console.log(Array.from([1, 2, 3], x => x + x));
// expected output: Array [2, 4, 6]
